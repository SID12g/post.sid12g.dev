---
title: ì£½ë¦¼ê³ ìˆ˜ ë§Œë“¤ê¸°
date: "2024-10-12"
description: p5.jsë¥¼ í†µí•´ ì£½ë¦¼ê³ ìˆ˜ë¥¼ ì¬í˜„í•˜ê³ , ë°°í¬í•©ë‹ˆë‹¤.
image: /contents/tech/bamboo-master/thumbnail.png
tag: P5
---

ì˜¤ëŠ˜ì€ ì£½ë¦¼ê³ ìˆ˜ ë§Œë“¤ê¸°ë¼ëŠ” ì¬ë¯¸ìˆëŠ” ì£¼ì œë¥¼ ê°€ì§€ê³  ì™”ìŠµë‹ˆë‹¤. í•œë²ˆ ë§Œë“¤ì–´ë³´ë©´ì„œ p5.JSë¥¼ ì‚¬ìš©í•´ë³´ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.

## ì£½ë¦¼ê³ ìˆ˜ë€?

ë§Œë“¤ê¸° ì „ì— [ì£½ë¦¼ê³ ìˆ˜](https://vidkidz.tistory.com/107)ë¥¼ ëª¨ë¥´ì‹œëŠ” ë¶„ë“¤ì„ ìœ„í•´ ì£½ë¦¼ê³ ìˆ˜ì— ëŒ€í•´ ê°„ë‹¨íˆ ì„¤ëª…ë“œë¦¬ê² ìŠµë‹ˆë‹¤. ì£½ë¦¼ê³ ìˆ˜ë€ í•œê²Œì„ í”Œë˜ì‹œì—ì„œ ì œì‘í•œ í”Œë˜ì‹œ ê²Œì„ì…ë‹ˆë‹¤. ê²Œì„ ë°©ë²•ì€ ê°„ë‹¨í•˜ê²Œ ë°©í–¥í‚¤ë¡œ ìºë¦­í„°ë¥¼ ì›€ì§ì—¬ì„œ ë‚ ì•„ì˜¤ëŠ” í™”ì‚´ì„ í”¼í•˜ë©´ ë©ë‹ˆë‹¤.

![original](/contents/tech/bamboo-master/original.gif) _ì£½ë¦¼ê³ ìˆ˜_

## ê¸°ë³¸ íŒŒì¼ ì„¤ì •

ìš°ì„  í”„ë¡œì íŠ¸ì˜ íŒ¨í‚¤ì§€ ê´€ë¦¬ë¥¼ ìœ„í•´ì„œ package.jsonì„ ì¶”ê°€í•©ë‹ˆë‹¤.

```zsh
yarn init
```

ê·¸ë¦¬ê³  í”„ë¡œì íŠ¸ ë¹Œë“œë¥¼ ìœ„í•´ ë²ˆë“¤ëŸ¬ë¥¼ ì„¤ì¹˜í•©ë‹ˆë‹¤. ì €ëŠ” Webpackì„ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤.

```zsh
yarn add webpack webpack-cli webpack-dev-server html-webpack-plugin
```

Webpackì„ ì„¤ì¹˜í–ˆë‹¤ë©´ ë£¨íŠ¸ ë””ë ‰í† ë¦¬ì— webpack.config.jsë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤. webpack.config.jsë¥¼ ë³´ë©´, src í´ë” ë‚´ì— index.htmlê³¼ index.jsë¥¼ ê¸°ì¤€ìœ¼ë¡œ ë¹Œë“œë˜ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë˜í•œ ì´ë¯¸ì§€ ì²˜ë¦¬ë¥¼ ê°€ëŠ¥í•˜ë„ë¡ rulesì— ê´€ë ¨ ë‚´ìš©ì´ ìˆëŠ”ê±¸ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```js:webpack.config.js
const path = require("path");
const HtmlWebpackPlugin = require("html-webpack-plugin");

module.exports = {
  mode: "development",
  entry: "./src/index.js",
  output: {
    filename: "main.js",
    path: path.resolve(__dirname, "dist"),
    clean: true,
  },
  devServer: {
    static: {
      directory: path.join(__dirname, "dist"),
    },
    port: 3000,
  },
  plugins: [
    new HtmlWebpackPlugin({
      template: "./src/index.html",
    }),
  ],
  module: {
    rules: [
      {
        test: /\.(gif|png|jpe?g|svg|ico)$/i,
        type: "asset/resource",
        generator: {
          filename: "assets/[name][ext]",
        },
      },
    ],
  },
};
```

ì¡°ê¸ˆ ë” í¸í•˜ê²Œ Webpackì„ ì‹¤í–‰í•˜ê¸° ìœ„í•´ì„œ package.jsonì— scriptsë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤.

```json:package.json
{
    "scripts": {
    "build": "webpack",
    "dev": "webpack serve"
    }
}
```

ë¹Œë“œë¥¼ ì‹¤í–‰ í•  ë•Œì— ë¹Œë“œ ë  HTML íŒŒì¼ë„ ì¶”ê°€í•´ì¤ë‹ˆë‹¤.

```html:src/index.html
<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Bamboo Master</title>
  </head>
  <style></style>
  <body></body>
</html>
```

## p5.JS ì‚¬ìš©í•˜ê¸°

[p5.JS](https://p5js.org/ko)ëŠ” canvasë¥¼ ë”ìš± ì‰½ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ ë„ì™€ì£¼ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ì…ë‹ˆë‹¤. p5.JSì— ìˆëŠ” ì˜ˆì œë“¤ì„ í†µí•´ì„œë„ canvasì— ë„í˜• ë“±ì„ ì‰½ê²Œ í‘œí˜„í•  ìˆ˜ ìˆëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

![p5.JS](/contents/tech/bamboo-master/p5.js.png) _p5.JS í˜ì´ì§€ì— ì œì‹œë˜ì–´ìˆëŠ” ì˜ˆì œë“¤_

### p5.JS ê¸°ë³¸ ì„¤ì •

í”„ë¡œì íŠ¸ì—ì„œ p5.JSë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•´ p5.JSë¥¼ ì„¤ì¹˜í•©ë‹ˆë‹¤.

```zsh
yarn add p5
```

ê·¸ë¦¬ê³  index.jsì— p5.JSë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•œ ê¸°ë³¸ ì½”ë“œë¥¼ ì‘ì„±í•©ë‹ˆë‹¤.

```js:src/index.js
import p5 from "p5";

const sketch = (p) => {
  p.preload = () => {};

  p.setup = () => {};

  p.draw = () => {};
};

new p5(sketch);
```

[preload()](https://p5js.org/ko/reference/p5/preload/)ì˜ ê²½ìš° ì´ë¯¸ì§€ ë“±ì˜ ë¦¬ì†ŒìŠ¤ë¥¼ ë¹„ë™ê¸°ì ìœ¼ë¡œ ì²˜ë¦¬í•˜ê³ , [setup()](https://p5js.org/ko/reference/p5/setup/)ì˜ ê²½ìš° ìŠ¤ì¼€ì¹˜ í•¨ìˆ˜ ì‹¤í–‰ ì‹œ ì²˜ìŒ í•œ ë²ˆë§Œ ì‹¤í–‰ë˜ë©°, canvas ì´ˆê¸°ì„¤ì •ì— ì´ìš©í•©ë‹ˆë‹¤. [draw()](https://p5js.org/ko/reference/p5/draw/)ëŠ” ë°˜ë³µ ì‹¤í–‰ë˜ì–´ canvasì— ê°ì²´ë¥¼ ê·¸ë¦´ ë•Œ ì‚¬ìš©ë˜ëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤.

ê·¸ë¦¬ê³  sketch()ê°€ canvasë¥¼ ê·¸ë¦´ ìˆ˜ ìˆë„ë¡ index.htmlì— ê·¸ë ¤ì§ˆ ê³³ì„ ë§Œë“¤ì–´ì¤ë‹ˆë‹¤.

```html:src/index.html
<style>
  canvas {
    border-radius: 1000px;
  }
</style>
<body>
  <div id="canvas"></div>
</body>
```

div(#canvas)ë‚´ì— ê·¸ë ¤ì§ˆ canvasë¥¼ sketch()ì— ì¶”ê°€í•©ë‹ˆë‹¤.

```js:src/index.js
p.setup = () => {
  const canvas = p.createCanvas(562, 562);
  canvas.parent("canvas");
};

p.draw = () => {
  p.background(32, 34, 57);
};
```

### p5.JSë¥¼ í†µí•´ ìºë¦­í„° ì›€ì§ì´ê¸°

ë‹¤ìŒìœ¼ë¡œ ìºë¦­í„°ë¥¼ ë§Œë“¤ê³ , ì›€ì§ì¼ ìˆ˜ ìˆë„ë¡ ì½”ë“œë¥¼ ì¶”ê°€í•˜ê² ìŠµë‹ˆë‹¤. ì €ëŠ” [Googleì˜ í• ë¡œìœˆ ê³ ì–‘ì´](https://www.google.com/search?sca_esv=6ce44284366b510a&sxsrf=ADLYWIK7NnLWE7-iQLwZg7HZ03LgzGrYrg:1728781488527&q=%EA%B5%AC%EA%B8%80+%EA%B3%A0%EC%96%91%EC%9D%B4&udm=2&fbs=AEQNm0DmKhoYsBCHazhZSCWuALW8l8eUs1i3TeMYPF4tXSfZ9zKNKSjpwusJM2dYWg4btGKvTs8msUkFt41RLL2EsYFXj1HJ-6Tz3zY-OaA8p5OIwAWoskWKBUk7Wrmnfn4KU7j2wY01Bvk2SJxfFAN8F6MR6ZyWB_5kKhL1r7wLM0C2lAj0l-qOc3_ZqvOIBxls8ucop53t&sa=X&ved=2ahUKEwjYhZL0lIqJAxXir1YBHcygPV0QtKgLegQIERAB&biw=1512&bih=823&dpr=2#vhid=0vxFQAjtur4k7M&vssid=mosaic)ë¥¼ ìºë¦­í„°ë¡œ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤.

ìš°ì„  ìºë¦­í„°ì™€ ìºë¦­í„°ì˜ í¬ê¸°, ìœ„ì¹˜, í‚¤ ì…ë ¥ì„ ì„ ì–¸í•©ë‹ˆë‹¤.

```js
let cat;
let catScalar = 0.05;
let x, y;
let isMovingLeft, isMovingRight, isMovingUp, isMovingDown;
```

ê·¸ë¦¬ê³  ìºë¦­í„°ë¥¼ preload()ë¥¼ í†µí•´ ë¶ˆëŸ¬ì˜¤ê³ , setup()ì— ìœ„ì¹˜ì™€ í‚¤ ì…ë ¥ì„ ì„¤ì •í•œ ë’¤, draw()ë¥¼ í†µí•´ canvasì— ê·¸ë ¤ì¤ë‹ˆë‹¤.

```js
import catImage from "./assets/cat.png";

const sketch = (p) => {
  p.preload = () => {
    cat = p.loadImage(catImage);
  };

  p.setup = () => {
    x = 281;
    y = 281;
    isMovingLeft = false;
    isMovingRight = false;
    isMovingUp = false;
    isMovingDown = false;
  };

  p.draw = () => {
    const catWidth = cat.width * catScalar;
    const catHeight = cat.height * catScalar;

    p.image(cat, x, y, catWidth, catHeight);
  };
```

ìºë¦­í„°ë¥¼ ë¶ˆëŸ¬ì™”ìœ¼ë‹ˆ, ìºë¦­í„°ê°€ ì›€ì§ì¼ ìˆ˜ ìˆë„ë¡ í•¨ìˆ˜ë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤.

```js
const sketch = (p) => {
  p.setup = () => {
    isMovingLeft = false;
    isMovingRight = false;
    isMovingUp = false;
    isMovingDown = false;
  };

  p.draw = () => {
    if (isMovingUp && y > 0) {
      y -= 5;
    }
    if (isMovingDown && y < p.height - catHeight) {
      y += 5;
    }
    if (isMovingLeft && x > 0) {
      x -= 5;
    }
    if (isMovingRight && x < p.width - catWidth) {
      x += 5;
    }
  };

  p.keyPressed = () => {
    if (p.key === "ArrowUp") {
      isMovingUp = true;
    }
    if (p.key === "ArrowDown") {
      isMovingDown = true;
    }
    if (p.key === "ArrowLeft") {
      isMovingLeft = true;
    }
    if (p.key === "ArrowRight") {
      isMovingRight = true;
    }
  };

  p.keyReleased = () => {
    if (p.key === "ArrowUp") {
      isMovingUp = false;
    }
    if (p.key === "ArrowDown") {
      isMovingDown = false;
    }
    if (p.key === "ArrowLeft") {
      isMovingLeft = false;
    }
    if (p.key === "ArrowRight") {
      isMovingRight = false;
    }
  };
};
```

ì—¬ê¸°ê¹Œì§€ í•¨ìˆ˜ë¥¼ ëª¨ë‘ ì¶”ê°€í–ˆë‹¤ë©´ ìºë¦­í„°ê°€ ì˜ ì›€ì§ì´ëŠ” ê±¸ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì•„ë˜ì˜ ì½”ë“œë¥¼ ì°¸ê³ í•˜ì—¬ ìœ„ ì½”ë“œë¥¼ ì´í•´í•˜ì‹œê¸¸ ë°”ëë‹ˆë‹¤.

```js:src/index.js
import p5 from "p5";
import catImage from "./assets/cat.png";

let cat;
let catScalar = 0.05;
let x, y;
let isMovingLeft, isMovingRight, isMovingUp, isMovingDown;

const sketch = (p) => {
  p.preload = () => {
    cat = p.loadImage(catImage);
  };

  p.setup = () => {
    const canvas = p.createCanvas(562, 562);
    canvas.parent("canvas");

    x = 281;
    y = 281;
    isMovingLeft = false;
    isMovingRight = false;
    isMovingUp = false;
    isMovingDown = false;
  };

  p.draw = () => {
    p.background(32, 34, 57);

    const catWidth = cat.width * catScalar;
    const catHeight = cat.height * catScalar;

    if (isMovingUp && y > 0) {
      y -= 5;
    }
    if (isMovingDown && y < p.height - catHeight) {
      y += 5;
    }
    if (isMovingLeft && x > 0) {
      x -= 5;
    }
    if (isMovingRight && x < p.width - catWidth) {
      x += 5;
    }

    p.image(cat, x, y, catWidth, catHeight);
  };

  p.keyPressed = () => {
    if (p.key === "ArrowUp") {
      isMovingUp = true;
    }
    if (p.key === "ArrowDown") {
      isMovingDown = true;
    }
    if (p.key === "ArrowLeft") {
      isMovingLeft = true;
    }
    if (p.key === "ArrowRight") {
      isMovingRight = true;
    }
  };

  p.keyReleased = () => {
    if (p.key === "ArrowUp") {
      isMovingUp = false;
    }
    if (p.key === "ArrowDown") {
      isMovingDown = false;
    }
    if (p.key === "ArrowLeft") {
      isMovingLeft = false;
    }
    if (p.key === "ArrowRight") {
      isMovingRight = false;
    }
  };
};

new p5(sketch);
```

### ê°„ê³¼í•˜ê³  ìˆì—ˆë˜ ì 

ì‚¬ì‹¤ ì €í¬ê°€ ê·¸ë¦° canvasëŠ” ì›í˜•ì´ì—ˆìŠµë‹ˆë‹¤. ê·¸ë ‡ê¸° ë•Œë¬¸ì— ìœ„ ì½”ë“œë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì‹¤í–‰í•œë‹¤ë©´, ë³´ì´ì§€ ì•ŠëŠ” ì˜ì—­ (ì •ì‚¬ê°í˜•) ê¹Œì§€ ìºë¦­í„°ê°€ ì›€ì§ì¼ ìˆ˜ ìˆê²Œ ë©ë‹ˆë‹¤. ê·¸ë ‡ê¸° ë•Œë¬¸ì— ì› ë°–ìœ¼ë¡œ ë‚˜ê°€ì§€ ëª»í•˜ë„ë¡ í•˜ëŠ” ì½”ë“œë¥¼ ì¶”ê°€í•´ì£¼ê² ìŠµë‹ˆë‹¤.

```js
const radius = 281;

const sketch = (p) => {
  p.draw = () => {
    const distFromCenter = p.dist(x, y, 281, 281);
    if (distFromCenter + catWidth / 2 > radius) {
      const angle = Math.atan2(y - 281, x - 281);
      x = 281 + (radius - catWidth / 2) * Math.cos(angle);
      y = 281 + (radius - catWidth / 2) * Math.sin(angle);
    }
  };
};
```

### í™”ì‚´ ì¶”ê°€í•˜ê¸°

ì´ì œ ìºë¦­í„°ê°€ í”¼í•  í™”ì‚´ì„ ì¶”ê°€í•´ë³´ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤. ìš°ì„  ì œê°€ ê¸°íší•œ í™”ì‚´ì€ í™”ì‚´ì˜ ì†ë„ê°€ ê°ˆìˆ˜ë¡ ë¹¨ë¼ì§€ê³ , 10ì´ˆë§ˆë‹¤ ëŒ€ëŸ‰ì˜ í™”ì‚´ì´ ìŠ¤í°ë˜ë„ë¡ í•˜ì˜€ìŠµë‹ˆë‹¤. ì´ë¥¼ ìœ„í•´ì„œëŠ” ê²°êµ­ ì‹œê°„ ì¸¡ì •ì´ í•„ìš”í•˜ê¸° ë•Œë¬¸ì— ì‹œê°„ ì¸¡ì • ê¸°ëŠ¥ê³¼ í™”ì‚´ ì¶”ê°€ ê¸°ëŠ¥ì„ ê°™ì´ ë§Œë“¤ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.

```js
let startTime;
let arrows = [];
let arrowSpeed = 2;
let arrowSpawnInterval = 1000;
let lastMultipleArrowTime = 0;

const sketch = (p) => {
  p.setup = () => {
    startTime = p.millis();
    setInterval(spawnArrow, arrowSpawnInterval);

    updateSeconds();
  };

  p.draw = () => {
    for (let i = arrows.length - 1; i >= 0; i--) {
      const arrow = arrows[i];
      arrow.x += arrow.vx * arrowSpeed;
      arrow.y += arrow.vy * arrowSpeed;

      if (
        arrow.x < 0 ||
        arrow.x > p.width ||
        arrow.y < 0 ||
        arrow.y > p.height
      ) {
        arrows.splice(i, 1);
        continue;
      }

      if (
        p.dist(arrow.x, arrow.y, x + catWidth / 2, y + catHeight / 2) <
        catWidth / 2
      ) {
        p.noLoop();
        alert(`${(p.millis() / 1000).toFixed(2)}ì´ˆë¥¼ ë²„í…¨ëƒˆì–´ìš”! ğŸ˜º`);
        location.reload();
        return;
      }

      p.stroke(255, 255, 255);
      p.strokeWeight(4);
      p.line(
        arrow.x,
        arrow.y,
        arrow.x - arrow.vx * 10,
        arrow.y - arrow.vy * 10
      );
    }

    setInterval(() => {
      arrowSpeed += 0.0005;
    }, 3000);

    if (p.millis() - startTime > 10000) {
      arrowSpawnInterval = Math.max(500, arrowSpawnInterval - 100);

      setInterval(spawnArrow, arrowSpawnInterval);
      startTime = p.millis();
    }

    if (p.millis() / 1000 - lastMultipleArrowTime >= 10) {
      spawnMultipleArrows(((p.millis() / 1000) * 3) / 5 + 10);
      lastMultipleArrowTime = p.millis() / 1000;
    }
  };

  function spawnArrow() {
    const edge = Math.floor(Math.random() * 4);
    let arrow = { x: 0, y: 0, vx: 0, vy: 0 };

    switch (edge) {
      case 0:
        arrow.x = Math.random() * p.width;
        arrow.y = 0;
        arrow.vx =
          (p.width / 2 - arrow.x) /
          p.dist(arrow.x, arrow.y, p.width / 2, p.height / 2);
        arrow.vy =
          (p.height / 2 - arrow.y) /
          p.dist(arrow.x, arrow.y, p.width / 2, p.height / 2);
        break;
      case 1:
        arrow.x = p.width;
        arrow.y = Math.random() * p.height;
        arrow.vx =
          (p.width / 2 - arrow.x) /
          p.dist(arrow.x, arrow.y, p.width / 2, p.height / 2);
        arrow.vy =
          (p.height / 2 - arrow.y) /
          p.dist(arrow.x, arrow.y, p.width / 2, p.height / 2);
        break;
      case 2:
        arrow.x = Math.random() * p.width;
        arrow.y = p.height;
        arrow.vx =
          (p.width / 2 - arrow.x) /
          p.dist(arrow.x, arrow.y, p.width / 2, p.height / 2);
        arrow.vy =
          (p.height / 2 - arrow.y) /
          p.dist(arrow.x, arrow.y, p.width / 2, p.height / 2);
        break;
      case 3:
        arrow.x = 0;
        arrow.y = Math.random() * p.height;
        arrow.vx =
          (p.width / 2 - arrow.x) /
          p.dist(arrow.x, arrow.y, p.width / 2, p.height / 2);
        arrow.vy =
          (p.height / 2 - arrow.y) /
          p.dist(arrow.x, arrow.y, p.width / 2, p.height / 2);
        break;
    }

    arrows.push(arrow);
  }

  function spawnMultipleArrows(count) {
    for (let i = 0; i < count; i++) {
      spawnArrow();
    }
  }

  function updateSeconds() {
    const secondsOutput = document.getElementById("seconds");
    if (secondsOutput) {
      secondsOutput.innerText = `${(p.millis() / 1000).toFixed(2)}ì´ˆ`;
    }

    requestAnimationFrame(updateSeconds);
  }
};
```

ê²Œì„ì˜ ì¢…ë£Œ ì¡°ê±´ì€ ìºë¦­í„°ê°€ í™”ì‚´ì— ë‹¿ì•˜ì„ ë•Œ ì´ë©° ì½”ë“œë¥¼ í†µí•´ í™”ì‚´ì˜ ìƒì„±, ì†ë„, ì´ë²¤íŠ¸ ë“±ì˜ ê²½ìš°ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### ì™„ì„± ì½”ë“œ í™•ì¸

ì´ë¡œì„œ ê²Œì„ì˜ í•„ìˆ˜ ìš”ì†Œê°€ ë‹¤ ë§Œë“¤ì–´ì¡ŒìŠµë‹ˆë‹¤. ì´ì œ ì‹¤í–‰ì„ í•´ë³´ë©´ ê²Œì„ì´ ì˜ ì‘ë™í•˜ëŠ”ê±¸ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

![result](/contents/tech/bamboo-master/result.gif)

```js:src/index.js
import p5 from "p5";
import catImage from "./assets/cat.png";

let cat;
let catScalar = 0.05;
let x, y;
let isMovingLeft, isMovingRight, isMovingUp, isMovingDown;
let startTime;
let arrows = [];
let arrowSpeed = 2;
let arrowSpawnInterval = 1000;
let lastMultipleArrowTime = 0;
const radius = 281;

const sketch = (p) => {
  p.preload = () => {
    cat = p.loadImage(catImage);
  };

  p.setup = () => {
    const canvas = p.createCanvas(562, 562);
    canvas.parent("canvas");

    x = 281;
    y = 281;
    isMovingLeft = false;
    isMovingRight = false;
    isMovingUp = false;
    isMovingDown = false;

    startTime = p.millis();
    setInterval(spawnArrow, arrowSpawnInterval);

    updateSeconds();
  };

  p.draw = () => {
    p.background(32, 34, 57);

    const catWidth = cat.width * catScalar;
    const catHeight = cat.height * catScalar;

    if (isMovingUp && y > 0) {
      y -= 5;
    }
    if (isMovingDown && y < p.height - catHeight) {
      y += 5;
    }
    if (isMovingLeft && x > 0) {
      x -= 5;
    }
    if (isMovingRight && x < p.width - catWidth) {
      x += 5;
    }

    const distFromCenter = p.dist(x, y, 281, 281);
    if (distFromCenter + catWidth / 2 > radius) {
      const angle = Math.atan2(y - 281, x - 281);
      x = 281 + (radius - catWidth / 2) * Math.cos(angle);
      y = 281 + (radius - catWidth / 2) * Math.sin(angle);
    }

    for (let i = arrows.length - 1; i >= 0; i--) {
      const arrow = arrows[i];
      arrow.x += arrow.vx * arrowSpeed;
      arrow.y += arrow.vy * arrowSpeed;

      if (
        arrow.x < 0 ||
        arrow.x > p.width ||
        arrow.y < 0 ||
        arrow.y > p.height
      ) {
        arrows.splice(i, 1);
        continue;
      }

      if (
        p.dist(arrow.x, arrow.y, x + catWidth / 2, y + catHeight / 2) <
        catWidth / 2
      ) {
        p.noLoop();
        alert(`${(p.millis() / 1000).toFixed(2)}ì´ˆë¥¼ ë²„í…¨ëƒˆì–´ìš”! ğŸ˜º`);
        location.reload();
        return;
      }

      p.stroke(255, 255, 255);
      p.strokeWeight(4);
      p.line(
        arrow.x,
        arrow.y,
        arrow.x - arrow.vx * 10,
        arrow.y - arrow.vy * 10
      );
    }

    p.image(cat, x, y, catWidth, catHeight);

    setInterval(() => {
      arrowSpeed += 0.0005;
    }, 3000);

    if (p.millis() - startTime > 10000) {
      arrowSpawnInterval = Math.max(500, arrowSpawnInterval - 100);

      setInterval(spawnArrow, arrowSpawnInterval);
      startTime = p.millis();
    }

    if (p.millis() / 1000 - lastMultipleArrowTime >= 10) {
      spawnMultipleArrows(((p.millis() / 1000) * 3) / 5 + 10);
      lastMultipleArrowTime = p.millis() / 1000;
    }
  };

  p.keyPressed = () => {
    if (p.key === "ArrowUp") {
      isMovingUp = true;
    }
    if (p.key === "ArrowDown") {
      isMovingDown = true;
    }
    if (p.key === "ArrowLeft") {
      isMovingLeft = true;
    }
    if (p.key === "ArrowRight") {
      isMovingRight = true;
    }
  };

  p.keyReleased = () => {
    if (p.key === "ArrowUp") {
      isMovingUp = false;
    }
    if (p.key === "ArrowDown") {
      isMovingDown = false;
    }
    if (p.key === "ArrowLeft") {
      isMovingLeft = false;
    }
    if (p.key === "ArrowRight") {
      isMovingRight = false;
    }
  };

  function spawnArrow() {
    const edge = Math.floor(Math.random() * 4);
    let arrow = { x: 0, y: 0, vx: 0, vy: 0 };

    switch (edge) {
      case 0:
        arrow.x = Math.random() * p.width;
        arrow.y = 0;
        arrow.vx =
          (p.width / 2 - arrow.x) /
          p.dist(arrow.x, arrow.y, p.width / 2, p.height / 2);
        arrow.vy =
          (p.height / 2 - arrow.y) /
          p.dist(arrow.x, arrow.y, p.width / 2, p.height / 2);
        break;
      case 1:
        arrow.x = p.width;
        arrow.y = Math.random() * p.height;
        arrow.vx =
          (p.width / 2 - arrow.x) /
          p.dist(arrow.x, arrow.y, p.width / 2, p.height / 2);
        arrow.vy =
          (p.height / 2 - arrow.y) /
          p.dist(arrow.x, arrow.y, p.width / 2, p.height / 2);
        break;
      case 2:
        arrow.x = Math.random() * p.width;
        arrow.y = p.height;
        arrow.vx =
          (p.width / 2 - arrow.x) /
          p.dist(arrow.x, arrow.y, p.width / 2, p.height / 2);
        arrow.vy =
          (p.height / 2 - arrow.y) /
          p.dist(arrow.x, arrow.y, p.width / 2, p.height / 2);
        break;
      case 3:
        arrow.x = 0;
        arrow.y = Math.random() * p.height;
        arrow.vx =
          (p.width / 2 - arrow.x) /
          p.dist(arrow.x, arrow.y, p.width / 2, p.height / 2);
        arrow.vy =
          (p.height / 2 - arrow.y) /
          p.dist(arrow.x, arrow.y, p.width / 2, p.height / 2);
        break;
    }

    arrows.push(arrow);
  }

  function spawnMultipleArrows(count) {
    for (let i = 0; i < count; i++) {
      spawnArrow();
    }
  }

  function updateSeconds() {
    const secondsOutput = document.getElementById("seconds");
    if (secondsOutput) {
      secondsOutput.innerText = `${(p.millis() / 1000).toFixed(2)}ì´ˆ`;
    }

    requestAnimationFrame(updateSeconds);
  }
};

new p5(sketch);
```

ê²Œì„ì€ [ë°°í¬ëœ í˜ì´ì§€](https://bamboo-master.vercel.app/)ì—ì„œ, ë” ìì„¸í•œ ì½”ë“œëŠ” [Github](https://github.com/SID12g/bamboo-master)ì—ì„œ í™•ì¸í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ê¸´ ê¸€ ì½ì–´ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤.
